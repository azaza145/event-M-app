// --- Theme Variables ---
$primary-color: #f59e0b;
$primary-color-dark: #d97706;
$text-color-dark: #1f2937;
$text-color-light: #6b7280;
$background-color: #f0f2f5;
$card-background: #ffffff;
$border-color: #e5e7eb;
$unread-bg: lighten($primary-color, 40%);
$certificate-color: #3b82f6;

// --- Main Layout ---
.dashboard-wrapper {
  display: grid;
  grid-template-columns: 280px 1fr 320px;
  gap: 1.5rem;
  padding: 1.5rem;
  max-width: 1600px;
  margin: 0 auto;

  @media (max-width: 1200px) {
    grid-template-columns: 1fr;
    .left-panel, .right-panel { display: none; }
  }
}

.card {
  background: $card-background;
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
  box-shadow: 0 1px 3px rgba(0,0,0,0.05), 0 1px 2px rgba(0,0,0,0.06);
}

// --- Left Panel: Profile & Stats ---
.profile-summary {
  text-align: center;
  .avatar {
    width: 70px; height: 70px; border-radius: 50%;
    background-color: $primary-color; color: white;
    display: flex; align-items: center; justify-content: center;
    font-size: 2rem; font-weight: 600; margin: 0 auto 1rem auto;
  }
  h3 { margin: 0 0 0.25rem 0; font-size: 1.2rem; }
  p { color: $text-color-light; margin: 0 0 1rem 0; font-size: 0.9rem; }
  .role-badge {
    background-color: $unread-bg; color: $primary-color-dark; padding: 0.25rem 0.75rem;
    border-radius: 1rem; font-size: 0.8rem; font-weight: 500; display: inline-block;
  }
}

.stats-summary, .actions-panel {
  h4 { margin-top: 0; border-bottom: 1px solid $border-color; padding-bottom: 0.75rem; margin-bottom: 1rem; }
  .stat-item {
    display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.75rem; color: $text-color-light;
    i { color: $primary-color; }
  }
}

// --- Center Panel: Main Content ---
.main-content .page-header {
  h1 { font-size: 1.8rem; font-weight: 600; margin: 0; }
}

.filter-controls {
  display: flex; justify-content: space-between; align-items: center;
  margin-top: 1.5rem; margin-bottom: 1.5rem; gap: 1rem; flex-wrap: wrap;
}

.search-bar {
  display: flex; align-items: center; background: $card-background;
  border: 1px solid $border-color; border-radius: 8px;
  padding: 0.25rem 1rem; flex-grow: 1; min-width: 250px;
  i { color: $text-color-light; }
  input { border: none; outline: none; padding: 0.75rem; width: 100%; font-size: 1rem; background: transparent; }
}

.filter-buttons {
  display: flex; gap: 0.5rem;
  .btn {
    background-color: $card-background; border: 1px solid $border-color; color: $text-color-light;
    &.active { background-color: $primary-color; border-color: $primary-color; color: white; }
    &:hover:not(.active) { background-color: darken($background-color, 3%); }
  }
}

.state-indicator {
  padding: 4rem; text-align: center; color: $text-color-light;
  &.empty i { font-size: 3rem; margin-bottom: 1rem; }
}

.event-list-grid { display: grid; gap: 1rem; }
.event-card {
  display: grid; grid-template-columns: auto 1fr auto;
  align-items: center; gap: 1.5rem; background: $card-background;
  padding: 1rem 1.5rem; border-radius: 12px;
  border: 1px solid $border-color; transition: all 0.2s ease;
  &.registered { border-left: 5px solid $primary-color; }
  &:hover { transform: translateY(-3px); box-shadow: 0 8px 25px rgba(0,0,0,0.08); }
}
.event-card-date {
  text-align: center; width: 60px;
  .day { font-size: 1.8rem; font-weight: 700; color: $primary-color; }
  .month { font-size: 0.9rem; text-transform: uppercase; color: $text-color-light; letter-spacing: 0.5px; }
}
.event-card-details {
  .title { font-size: 1.15rem; font-weight: 600; color: $text-color-dark; margin: 0 0 0.25rem 0; }
  .location { display: flex; align-items: center; gap: 0.25rem; color: $text-color-light; font-size: 0.9rem; i { font-size: 1rem; } }
}
.event-card-actions { display: flex; align-items: center; gap: 0.75rem; }

// --- Buttons & Badges ---
.btn {
  padding: 0.6rem 1.2rem; border-radius: 8px; cursor: pointer;
  font-weight: 600; font-size: 0.9rem; display: inline-flex;
  align-items: center; gap: 0.5rem; border: 1px solid transparent;
  .material-icons { font-size: 1.1rem; }
}
.btn.full-width { width: 100%; justify-content: center; }
.btn-primary { background-color: $primary-color; color: white; border-color: $primary-color; &:hover { background-color: $primary-color-dark; } }
.btn-outline { background-color: transparent; border-color: $border-color; color: $text-color-dark; &:hover { background-color: $background-color; } }
.btn-certificate { background-color: $certificate-color; color: white; border-color: $certificate-color; &:hover { background-color: darken($certificate-color, 10%); } }

.status-badge {
  display: inline-flex; align-items: center; gap: 0.5rem; padding: 0.6rem 1.2rem;
  background-color: lighten($primary-color, 40%); color: $primary-color-dark;
  border-radius: 8px; font-weight: 600; font-size: 0.9rem;
}

// --- Right Panel ---
.notifications-panel {
  h4 { margin-top: 0; }
  .notification-list { max-height: 250px; overflow-y: auto; padding-right: 5px; }
  .notification-item {
    display: flex; gap: 1rem; padding: 1rem; border-radius: 8px; margin-bottom: 0.75rem;
    cursor: pointer; transition: background-color 0.2s;
    &.unread { background-color: $unread-bg; }
    &:hover { background-color: $border-color; }
    .icon-wrapper { color: $primary-color; }
    .message-content {
      flex-grow: 1;
      p { margin: 0; font-size: 0.9rem; }
      small { color: $text-color-light; font-size: 0.75rem; }
    }
    .read-button {
      background: none; border: none; cursor: pointer; color: $text-color-light;
      &:hover { color: $primary-color-dark; }
    }
  }
  .empty-text { font-style: italic; color: $text-color-light; }
}

.qa-panel {
  h4 { margin-top: 0; }
  .question-form {
    display: flex; flex-direction: column; gap: 0.75rem; margin-bottom: 1.5rem;
    textarea {
      width: 100%; padding: 0.75rem; border: 1px solid $border-color;
      border-radius: 8px; resize: vertical; font-family: inherit; font-size: 0.9rem;
    }
  }
  .faq-list {
    border-top: 1px solid $border-color; padding-top: 1rem;
    max-height: 300px; overflow-y: auto;
    h5 { margin-top: 0; }
    .faq-item {
      margin-bottom: 0.5rem;
      summary {
        font-weight: 500; cursor: pointer; padding: 0.5rem; border-radius: 6px;
        &:hover { background-color: #f3f4f6; }
      }
      .answer {
        padding: 0.5rem 0.5rem 0.5rem 1.5rem; margin-top: 0.5rem;
        border-left: 3px solid $primary-color; color: $text-color-light;
        font-size: 0.9rem; white-space: pre-wrap;
      }
    }
  }
}